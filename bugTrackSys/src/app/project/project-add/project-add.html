<div class="bg-white px-15 pb-15 py-10">
  <div class="w-full flex justify-end cursor-pointer">
    <mat-icon (click)="onCloseDialog()" class="">close</mat-icon>
  </div>
  <h1 class="font-[500] text-[21px]">Add new Project</h1>

  <!-- Add Project Form -->

  <form [formGroup]="projectForm" (ngSubmit)="onSubmit(projectForm.value)">
    <div class="flex flex-col gap-5 mb-5 md:flex-row md:gap-15 md:mb-0 mt-4">
      <div class="">
        <div class="fieldset">
          <legend class="fieldset-legend text-[15px] font-[400]">
            Project name
          </legend>
          <input
            type="text"
            class="input border-1 border-[#F4F4F5] text-[13px] font-[400] placeholder-[#A1A1AA] rounded-none w-60 focus:outline-none rounded-sm"
            placeholder="Enter project name"
            formControlName="projectName"
            [ngClass]="{
              'border-grey-300': !(
                projectForm.get('projectName')?.invalid &&
                projectForm.get('projectName')?.touched
              ),
              'border-red-500':
                projectForm.get('projectName')?.invalid &&
                projectForm.get('projectName')?.touched
            }"
          />
          <p
            *ngIf="
              projectForm.get('projectName')?.hasError('maxlength') &&
              (projectForm.get('projectName')?.dirty ||
                projectForm.get('projectName')?.touched)
            "
            class="text-red-500 text-sm"
          >
            Project name cannot be more than 20 characters long
          </p>
          <p
            *ngIf="
              projectForm.get('projectName')?.hasError('required') &&
              projectForm.get('projectName')?.touched
            "
            class="text-red-500 text-sm"
          >
            Project name is required
          </p>
        </div>

        <div class="fieldset">
          <legend class="fieldset-legend text-[15px] font-[400]">
            Short details
          </legend>
          <textarea
            type="text"
            class="input border-1 pt-2 border-[#F4F4F5] text-[13px] font-[400] placeholder-[#A1A1AA] rounded-none w-60 focus:outline-none rounded-sm"
            placeholder="Enter details here"
            formControlName="projectDes"
            [ngClass]="{
              'border-grey-300': !(
                projectForm.get('projectDes')?.invalid &&
                projectForm.get('projectDes')?.touched
              ),
              'border-red-500':
                projectForm.get('projectDes')?.invalid &&
                projectForm.get('projectDes')?.touched
            }"
          ></textarea>
          <p
            *ngIf="
              projectForm.get('projectDes')?.hasError('minlength') &&
              (projectForm.get('projectDes')?.dirty ||
                projectForm.get('projectName')?.touched)
            "
            class="text-red-500 text-sm"
          >
            Bug description cannot be less than 60 characters
          </p>
          <p
            *ngIf="
              projectForm.get('projectDes')?.hasError('required') &&
              projectForm.get('projectDes')?.touched
            "
            class="text-red-500 text-sm"
          >
            Project description is required
          </p>
        </div>
      </div>

      <div class="flex flex-col justify-center items-center cursor-pointer">
        <img
          src="assets/UploadImage.svg"
          alt=""
          (click)="openImageSelectionDialog()"
          *ngIf="!selectedFile"
        />
        <div class="flex flex-col items-end relative" *ngIf="preview">
          <mat-icon (click)="onClearImage()" class="absolute color z-10"
            >delete</mat-icon
          >

          <img [src]="preview" alt="Image" class="rounded-sm w-100 h-53" />
        </div>
        <input
          type="file"
          #fileInput
          style="display: none"
          accept="image/png , image/gif"
          formControlName="image"
          (change)="onFileSelected($event)"
        />
      </div>
    </div>

    <!-- buttons to add project or cancel -->

    <div class="flex gap-3">
      <button
        class="px-12 text-white cursor-pointer rounded-sm py-3 bg-[#007DFA]"
      >
        Add
      </button>
    </div>
  </form>
</div>
